<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/pagina_inicial.css">

    <script src="../js/funcoes.js"></script>
    <title>Pagina Inicial</title>
</head>

<body onload="validarSessao(), atualizacaoPeriodica()"> 
    
    <!-- INICIO DA HEADER -->
    <header class="site-header">
        <div class="wrapper site-header__wrapper">
          <nav class="nav">
            <button class="nav__toggle" aria-expanded="false" type="button">
              <span class="menu">menu</span>
            </button>
            <ul class="nav__wrapper">
              <li class="nav__item"><a href="pagina_inicial.html">Home</a></li>
              <li class="nav__item"><a href="#">Sobre Nós</a></li>
              <li class="nav__item"><a href="#">Services</a></li>
              <li class="nav__item"><a href="#">Hire us</a></li>
              <li class="nav__item"><a href="#">Contact</a></li>
            </ul>
          </nav>
          <span href="#" class="brand">Bem Vindo <span id="b_usuario">usuário</span></span>
          <a href="../index.html" class="button button--icon" aria-label="Sign in">
            <img src="../assets/sair.png" alt=""style="width: 40px; display: flex; align-items: center">
          </a>
        </div>
    </header>    
    <!-- FIM DA HEADER -->
    
    <!-- BANNER -->
    <div id="top-section-main">
        <div id="top-section-content"></div>
    </div>
    <!-- BANNER -->


<!--INICIO MEUS PRINCIPAIS VALORES -->
    <!-- INICIO CARDS VALORES PERSONAGENS -->
    <div id="feature-section">
        <h1 class="feature-section-title">Animes.values() foi para mostrar que podemos aprender lições para toda uma vida assistindo animes, pois os animes que mais fazem sucesso são aqueles que estão rechados de <span style="background-color: #e8670f; color: #ffffff; padding: 2px; border-radius: 8px;">Bons Valores</span> e <span style="background-color: #e8670f; color: #ffffff; padding: 2px; border-radius: 8px;">lições de vida.</span></h1>
        <div class="feature-content">
            <div class="col-3">
                <img style="width: 100%;" src="../assets/card1.jpg">
                <h3>Rock Lee (Naruto)</h3> 
                <p>"A lição de vida que podemos aprender com o Rock Lee  é que aquele que trabalha duro pode superar um gênio, mas, de nada adianta trabalho duro se você não confia em você mesmo. Mesmo sem ser considerado um gênio ele provou que nada é impossível se nós tivermos dedicação, disciplina e amor pelo que fazemos"</p>
            </div>
            <div class="col-3">
                <img style="width: 100%" src="../assets/card2.jpg">
                <h3>Ash Ketchum (Pokemon)</h3>
                <p>"A lição que o Ash pode nos ensinar e de nunca desistir dos seus sonhos não importa quantas vezes você falhe, o sonho dele era se tornar campeão mundial e diversas vezes ele chegou a disputar a final mas sempre passava muito perto, e por mais que ele tenha desanimado em alguns momentos ele nunca desistiu. Conquistando o tão sonhado titulo de Campeão Mundial após a 7.º final que ele disputou."</p>
            </div>
            <div class="col-3">
                <img style="width: 100%" src="../assets/card3.jpg">
                <h3>Monkey D. Luffy (One Piece)</h3>
                <p>"A lição que podemos aprender com o Luffy é de que se você tiver um sonho de conquistar alguma coisa, apenas comece, não espere ter as melhores condições e nem os melhores aparelhos. Faça como o Luffy que saiu ao mar com o sonho de se tornar o Rei dos piratas, mas começou sem ter uma tripulação e nem mesmo um navio, ele começou navegando em um barril de uísque. "</p>
            </div>
        </div>
    </div><br>
    <!-- FIM CARDS VALORES PERSONAGENS-->

    <!-- INICIO BANNERS VALORES ANIMES-->
    <div id="showcase1-container">
        <div class="showcase">
            <div class="col-2">
                <img class="showcase1pic" src="../assets/banner1.jpg">
            </div>
            <div class="col-2">
                <div class="feature-text">
                    <h1 class="section-title">Trabalho em Equipe</h1>
                    <p class="section-left">"Qualquer pessoa de sucesso sabe que é uma peça importante.<br>
                        Mas sabe que não conseguirá nada sozinho."<br><br>
                        Os animes mostram que o trabalho em equipe é importante, porque muitas vezes não somos capazes de fazer tudo sozinhos, por mais fortes que podemos ser afinal, o ser humano não é como o Superman, não somos invencíveis ou invulneráveis. <br><br>
                        Os animes que mostram com mais evidência isso são Naruto (mostrando que todos sem exceção têm sua importância, e é essencial para o sucesso da missão).
                    </p>
                </div>
            </div>
        </div>
        <br>
    </div>
    
    <div id="showcase2-container">
        <div class="showcase">
            <div class="col-2">
                <div class="feature-text2">
                    <h1 class="section-title">Respeito aos Mestres</h1>
                    <p class="section-left">
                        "Vejo como os animes como Naruto, Saint Saiya e Dragon ball mostram o grande respeito que os alunos tem por seus professores. <br><br>
                        Pois são eles que passam valiosas lições para que amadureçam e se tornem mais fortes e capazes de realizar grandes feitos. <br><br>
                        Nos animes vemos uma relação bonita se formar entre aluno e professor, a tal ponto que os professores sempre acabam se sacrificando e ajudando seus pupilos, a quem consideram como filhos. <br><br>
                        Sendo esse um dos meus valores mais importantes, pois se eu estou aqui hoje foi por conta de vocês e de todos os meus professores que tive até hoje".
                    </p>
                </div>
            </div>
            <div class="col-2">
                <img class="showcase1pic" src="../assets/banner2.jpg">
            </div>
        </div>
    </div>
    <!-- FIM BANNERS VALORES ANIMES-->

    <!-- INICIO QUIZ -->
    <div class="container-call-to-action">
        <div id="call-to-action">
            <div class="showcase">
                <div class="col-1">
                    <h1 class="action-title">What are you waiting for?</h1>
                    <p>Get started today and try for free - No credit card required</p>
                    <p style="text-align: center;"><a href="#" class="signupBTN">Try Today</a></p>
                </div>
            </div>
        </div>
    </div>
    <!-- FIM QUIZ -->
    
    <!-- INICIO FOOTER -->
    <footer>
        <div class="social-footer">
            <div class="center">
                <a href="https://github.com/LucasSilvvaLLima" target="_blank"><img src="../assets/github.png" alt="gitHub" height="52" width="52"></a>
			</div>
		</div>
		<div class="social-footer">
            <div class="center">
                <a href="https://www.facebook.com/profile.php?id=100005426463974" target="_blank" rel="noopener noreferrer"><img src="../assets/facebook.png" alt="facebook" height="52" width="52"></a>
			</div>
		</div>
		<div class="social-footer">
			<div class="center">
				<a href="https://www.instagram.com/luckas_sillva_lima/" target="_blank" rel="noopener noreferrer"><img src="../assets/instagram.png" alt="instagram" height="52" width="52"></a>
			</div>
		</div>
		<h3 style="text-align: center; padding-top: 400px; color: black;">Anime.values()</h3>
		<span class="copyright">&copy; Copyright 2020 - Feito por &hearts; Lucas Silva Lima</span>
	</footer>
    <!-- FIM FOOTER -->

</body>

</html>

<script>
    
    function atualizacaoPeriodica() {
        obterdados(1);
        obterdados(2);
        obterdados(3);
        obterdados(4);

        function sendData() {
			var http = new XMLHttpRequest();
			http.open('POST', 'http://localhost:3000/api/sendData', false);
			http.send(null);
		}

        setInterval(() => {
			sendData();
		}, 2000);
        setTimeout(atualizacaoPeriodica, 5000);
    }

    function obterdados(idAquario) {
        fetch(`/medidas/tempo-real/${idAquario}`)
            .then(resposta => {

                if (resposta.ok) {
                    resposta.json().then(resposta => {

                        console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);

                        var dados = {
                            temperatura: resposta[0].temperatura,
                        }

                        alertar(resposta[0].temperatura, idAquario);
                    });
                } else {

                    console.error('Nenhum dado encontrado ou erro na API');
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados do aquario p/ gráfico: ${error.message}`);
            });

    }

    function alertar(temperatura, idAquario) {
        var limites = {
            muito_quente: 23,
            quente: 22,
            ideal: 20,
            frio: 10,
            muito_frio: 5
        };

        var classe_temperatura = 'cor-alerta';

        if (temperatura >= limites.muito_quente) {
            classe_temperatura = 'cor-alerta perigo-quente';
            console.log("caiu no 1")
        }
        else if (temperatura < limites.muito_quente && temperatura >= limites.quente) {
            classe_temperatura = 'cor-alerta alerta-quente';
            console.log("caiu no 2")
        }
        else if (temperatura < limites.quente && temperatura > limites.frio) {
            classe_temperatura = 'cor-alerta ideal';
            console.log("caiu no 3")
        }
        else if (temperatura <= limites.frio && temperatura > limites.muito_frio) {
            classe_temperatura = 'cor-alerta alerta-frio';
            console.log("caiu no 4")
        }
        else if (temperatura < limites.min_temperatura) {
            classe_temperatura = 'cor-alerta perigo-frio';
            console.log("caiu no 5")
        }

        var card;

        if (idAquario == 1) {
            temp_aquario_1.innerHTML = temperatura + "°C";
            card = card_1
        } else if (idAquario == 2) {
            temp_aquario_2.innerHTML = temperatura + "°C";
            card = card_2
        } else if (idAquario == 3) {
            temp_aquario_3.innerHTML = temperatura + "°C";
            card = card_3
        } else if (idAquario == 4) {
            temp_aquario_4.innerHTML = temperatura + "°C";
            card = card_4
        }

        // alterando
        card.className = classe_temperatura;

    }
    let navToggle = document.querySelector(".nav__toggle");
let navWrapper = document.querySelector(".nav__wrapper");

navToggle.addEventListener("click", function () {
  if (navWrapper.classList.contains("active")) {
    this.setAttribute("aria-expanded", "false");
    this.setAttribute("aria-label", "menu");
    navWrapper.classList.remove("active");
  } else {
    navWrapper.classList.add("active");
    this.setAttribute("aria-label", "close menu");
    this.setAttribute("aria-expanded", "true");
  }
});


</script>